"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[7866],{28453:(n,e,s)=>{s.d(e,{R:()=>d,x:()=>l});var r=s(96540);const t={},i=r.createContext(t);function d(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:d(n.components),r.createElement(i.Provider,{value:e},n.children)}},74781:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>d,metadata:()=>r,toc:()=>o});var r=s(94519),t=s(74848),i=s(28453);const d={},l=void 0,c={authorsImageUrls:[]},o=[{value:"Jenkins \u5b89\u88c5\u542f\u52a8\u95ee\u9898",id:"jenkins-\u5b89\u88c5\u542f\u52a8\u95ee\u9898",level:2},{value:"JVM \u8bbe\u7f6e",id:"jvm-\u8bbe\u7f6e",level:3},{value:"\u67e5\u770b\u7ba1\u7406\u5458\u5bc6\u7801",id:"\u67e5\u770b\u7ba1\u7406\u5458\u5bc6\u7801",level:3},{value:"\u5b89\u88c5Jenkins\u63d2\u4ef6\u914d\u7f6e",id:"\u5b89\u88c5jenkins\u63d2\u4ef6\u914d\u7f6e",level:2}];function a(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{id:"jenkins-\u5b89\u88c5\u542f\u52a8\u95ee\u9898",children:"Jenkins \u5b89\u88c5\u542f\u52a8\u95ee\u9898"}),"\n",(0,t.jsx)(e.h3,{id:"jvm-\u8bbe\u7f6e",children:"JVM \u8bbe\u7f6e"}),"\n",(0,t.jsx)(e.h3,{id:"\u67e5\u770b\u7ba1\u7406\u5458\u5bc6\u7801",children:"\u67e5\u770b\u7ba1\u7406\u5458\u5bc6\u7801"}),"\n",(0,t.jsx)(e.p,{children:"cat /var/lib/jenkins/secrets/initialAdminPassword"}),"\n",(0,t.jsx)(e.h2,{id:"\u5b89\u88c5jenkins\u63d2\u4ef6\u914d\u7f6e",children:"\u5b89\u88c5Jenkins\u63d2\u4ef6\u914d\u7f6e"}),"\n",(0,t.jsx)(e.p,{children:"1.\u627e\u5230jenkins\u5b89\u88c5\u8def\u5f84C:\\ProgramData\\Jenkins.jenkins\uff0c"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u6216\u8005 /var/lib/jenkins"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u7136\u540e\u66f4\u6539hudson.model.UpdateCenter.xml\u6587\u4ef6\u4e2d\u7684url\u4e3a"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:"https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json",children:"https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json"})}),"\n",(0,t.jsx)(e.p,{children:"2.\u627e\u5230jenkins\u5b89\u88c5\u8def\u5f84\uff0cC:\\ProgramData\\Jenkins.jenkins\\updates"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"/var/lib/jenkins/updates"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u7136\u540e\u66f4\u6539default.json\u6587\u4ef6\u4e2d\u7684url"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"`\u5b89\u88c5\u597djenkins\u540e\uff0c\u8f93\u5b8c\u9875\u9762\u5bc6\u7801\uff0c\u8fd9\u65f6\u5019jenkins\u9700\u8981\u7684\u6587\u4ef6\u76ee\u5f55\u5df2\u7ecf\u751f\u6210\u5b8c\u6bd5\u4e86.default.json \u662f\u4e0b\u8f7d\u5b89\u88c5\u63d2\u4ef6\u65f6\u8c03\u7528\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u5176\u4e2d\u7684\u4e0b\u8f7d\u5730\u5740\u8fd8\u662fupdates.jenkins.io\uff0c\u6211\u4eec\u9700\u8981\u5c06\u5176\u66f4\u6539\u4e3a\u56fd\u5185\u7684\u6e05\u534e\u6e90\u3002   default.json\u7684\u5177\u4f53\u8def\u52b2\u662f\uff1a{jenkins\u7684\u5de5\u4f5c\u8def\u5f84}/updates/default.json   \u4f7f\u7528sed -i\u547d\u4ee4\u5c06\u5176\u66f4\u6362   `\n\n\n\xe5~~~\n\n\n\n"})}),"\n",(0,t.jsxs)(e.p,{children:["sed -i 's/",(0,t.jsx)(e.a,{href:"http://updates.jenkins-ci.org/download/https://mirrors.tuna.tsinghua.edu.cn/jenkins/g",children:"http://updates.jenkins-ci.org/download/https://mirrors.tuna.tsinghua.edu.cn/jenkins/g"}),"'"," default.json && sed -i 's/",(0,t.jsx)(e.a,{href:"http://www.google.com/https://www.baidu.com/g",children:"http://www.google.com/https://www.baidu.com/g"}),"'"," default.json"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\n### \u4e8c\u3001\u66ff\u6362\u56fd\u5185\u63d2\u4ef6\u66f4\u65b0\u5730\u5740\n\n\u9009\u62e9\uff1a\u7cfb\u7edf\u7ba1\u7406\u2013>[\u63d2\u4ef6\u7ba1\u7406](https://so.csdn.net/so/search?q=%E6%8F%92%E4%BB%B6%E7%AE%A1%E7%90%86&spm=1001.2101.3001.7020)\u2013>Advanced settings\n\n\n\n\u4fee\u6539\u66ff\u63621\nhttps://www.google.com  \u66ff\u6362\u6210 https://www.baidu.com \n\u4fee\u6539\u66ff\u63622\nhttps://updates.jenkins.io/download  \u66ff\u6362\u6210 \n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:"https://mirrors.tuna.tsinghua.edu.cn/jenkins",children:"https://mirrors.tuna.tsinghua.edu.cn/jenkins"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"**hudson.model.UpdateCenter.xml\u548cdefault.json\u90fd\u5fc5\u987b\u66f4\u6362\uff0c\u4e0d\u7136\u4e0d\u751f\u6548**\n\n\u7136\u540e\u6839\u636e\u9700\u6c42\u5b89\u88c5git\uff0callure\u7b49\u63d2\u4ef6\n\n\n# \u4fee\u6539\u542f\u52a8\u7528\u6237\n/lib/systemd/system/jenkins.service\nvim /usr/lib/systemd/system/jenkins.service\n"})}),"\n",(0,t.jsx)(e.p,{children:"User=root\nGroup=root"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"systemctl daemon-reload\n\n\n### log\ncd /var/log\n\nchmod 777 -R jenkins/\n\n\n# \u81ea\u5df1\u8bbe\u7f6e\u8bb0\u5f55\n# \u4e0b\u8f7d\u63d2\u4ef6 Jenkins control\n"})}),"\n",(0,t.jsxs)(e.p,{children:["server address  ",(0,t.jsx)(e.a,{href:"http://192.168.3.5:8080/",children:"http://192.168.3.5:8080/"}),"\nusername  \u767b\u95e8\u540d\npwd  \u767b\u5f55\u5bc6\u7801\ncrumb data   ",(0,t.jsx)(e.a,{href:"http://192.168.3.5:8080//crumbIssuer/api/xml?tree=crumb#",children:"http://192.168.3.5:8080//crumbIssuer/api/xml?tree=crumb#"}),"\njenkins version   \u9009\u62e9ver 2.x"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"# \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\n/usr/lib/systemd/system\nsudo vim jenkins.service \n\u627e\u5230\u4e0b\u9762\u8fd9\u884c\n"})}),"\n",(0,t.jsx)(e.h1,{id:"arguments-for-the-jenkins-jvm",children:"Arguments for the Jenkins JVM"}),"\n",(0,t.jsx)(e.p,{children:'Environment="JAVA_OPTS=-Djava.awt.headless=true  -Dhudson.security.csrf.GlobalCrumbIssuerConfiguration.DISABLE_CSRF_PROTECTION=true"'}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\n# \u91cd\u542f\n\nsudo systemctl daemon-reload\nsudo systemctl restart jenkins\n\n\n------------\n\n\n# \u535a\u5ba2\n\n\u53c2\u8003 https://blog.csdn.net/xundh/article/details/110221975\n\n\n# \n\n\n\n# Jenkins\u8bbe\u7f6e \n### Jenkins\u5f00\u542fCSRF\n- \u5df2\u4e0d\u9002\u7528\uff1a  \u4f4e\u7248\u672c\u7684Jenkins\u5230Jenkins-Configure Global Security\uff0c\u53d6\u6d88\u201d\u9632\u6b62\u8de8\u7ad9\u70b9\u8bf7\u6c42\u4f2a\u9020\u201c\u590d\u9009\u6846\u3002\n\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u5982\u679c\u9700\u8981\u5f00\u542f\u6b64\u529f\u80fd\uff0c\u5219\u8bbf\u95ee\uff1a\n",(0,t.jsx)(e.a,{href:"http://jenkins%E5%9C%B0%E5%9D%80/crumbIssuer/api/xml?tree=crumb#",children:"http://jenkins\u5730\u5740/crumbIssuer/api/xml?tree=crumb#"}),"\n\u6765\u83b7\u53d6crumb\u503c\uff0c\u586b\u5199\u5230Idea\u7684Jenkins\u63d2\u4ef6\u8bbe\u7f6e\u91cc\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\n\n\u9ad8\u7248\u672c\u7684Jenkins\u8981\u5230\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\u53d6\u6d88CSRF\uff1a\n"})}),"\n",(0,t.jsx)(e.p,{children:"vim /etc/sysconfig/jenkins"}),"\n",(0,t.jsx)(e.p,{children:'\u4fee\u6539\u4e0b\u9762\u7684\u884c\nJENKINS_JAVA_OPTIONS="-Djava.awt.headless=true -Dhudson.security.csrf.GlobalCrumbIssuerConfiguration.DISABLE_CSRF_PROTECTION=true"'}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u5bf9\u4e8e\u4f7f\u7528service\u547d\u4ee4\u542f\u52a8\u7684\u60c5\u51b5\u6765\u8bf4\uff0c\u8981\u628a\u53c2\u6570\u52a0\u5230\u4e0b\u9762\u6587\u4ef6\uff1a\n"})}),"\n",(0,t.jsx)(e.p,{children:"cd /usr/lib/systemd/system\nsudo vim jenkins.service\nsudo systemctl daemon-reload\nsudo service  jenkins restart"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{})})]})}function u(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(a,{...n})}):a(n)}},94519:n=>{n.exports=JSON.parse('{"permalink":"/en/blog/2024/Jenkins","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2024/Jenkins.md","source":"@site/blog/2024/Jenkins.md","title":"2024/Jenkins","description":"Jenkins \u5b89\u88c5\u542f\u52a8\u95ee\u9898","date":"2025-09-21T13:09:30.000Z","tags":[],"readingTime":2.22,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"unlisted":false,"prevItem":{"title":"2024/Java\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\u7684\u516d\u79cd\u65b9\u5f0f","permalink":"/en/blog/2024/Java\u8bfb\u53d6\u6587\u4ef6\u5185\u5bb9\u7684\u516d\u79cd\u65b9\u5f0f"},"nextItem":{"title":"\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\uff1aObjects.requireNonNull","permalink":"/en/blog/2024/Objects.requireNonNull"}}')}}]);