"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[4440],{28453:(e,n,d)=>{d.d(n,{R:()=>i,x:()=>s});var l=d(96540);const o={},r=l.createContext(o);function i(e){const n=l.useContext(r);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),l.createElement(r.Provider,{value:n},e.children)}},90950:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>a,frontMatter:()=>i,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"k8s/Pod","title":"Pod","description":"- pod \u662fk8s\u7684\u6700\u5c0f\u8c03\u5ea6\u5355\u4f4d,\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u5bb9\u5668","source":"@site/docs/k8s/Pod.md","sourceDirName":"k8s","slug":"/k8s/Pod","permalink":"/en/docs/k8s/Pod","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/k8s/Pod.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"LoadBalancer","permalink":"/en/docs/k8s/LoadBalancer"},"next":{"title":"Secret","permalink":"/en/docs/k8s/Secret"}}');var o=d(74848),r=d(28453);const i={},s="Pod",c={},t=[{value:"Pod \u7684 yml \u793a\u4f8b",id:"pod-\u7684-yml-\u793a\u4f8b",level:2},{value:"\u8fd0\u884cPod",id:"\u8fd0\u884cpod",level:2},{value:"\u67e5\u770b\u5168\u90e8Pods",id:"\u67e5\u770b\u5168\u90e8pods",level:2},{value:"\u4f7f\u7528\u547d\u4ee4\u6620\u5c04Pod \u7aef\u53e3",id:"\u4f7f\u7528\u547d\u4ee4\u6620\u5c04pod-\u7aef\u53e3",level:2},{value:"\u8fdb\u5165 Pod \u5185shell",id:"\u8fdb\u5165-pod-\u5185shell",level:2},{value:"\u67e5\u770bpod \u65e5\u5fd7",id:"\u67e5\u770bpod-\u65e5\u5fd7",level:2},{value:"\u5220\u9664Pod",id:"\u5220\u9664pod",level:2}];function p(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"pod",children:"Pod"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"pod \u662fk8s\u7684\u6700\u5c0f\u8c03\u5ea6\u5355\u4f4d,\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u5bb9\u5668"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"pod-\u7684-yml-\u793a\u4f8b",children:"Pod \u7684 yml \u793a\u4f8b"}),"\n",(0,o.jsx)(n.p,{children:"\u5b9a\u4e49\u4e86pod\u91cc\u8981\u8fd0\u884c\u4ec0\u4e48\u5bb9\u5668"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx\n  labels:\n    app: nginx\nspec:\n  containers:\n    - name: nginx-container\n      image: nginx:1.29.0\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u8fd0\u884cpod",children:"\u8fd0\u884cPod"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"kubectl apply -f  nginx-pod.yml\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u67e5\u770b\u5168\u90e8pods",children:"\u67e5\u770b\u5168\u90e8Pods"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"kubectl get pods\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u4f7f\u7528\u547d\u4ee4\u6620\u5c04pod-\u7aef\u53e3",children:"\u4f7f\u7528\u547d\u4ee4\u6620\u5c04Pod \u7aef\u53e3"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u8fd9\u91cc\u7684 nginx-pod \u662f yaml\u91cc\u9762\u7684 metadata.name"}),"\n",(0,o.jsx)(n.li,{children:"\u8fd9\u4e2a\u547d\u4ee4\u662f"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"kubectl port-forward nginx-pod 4000:80 \n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u89e3\u91ca"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\u547d\u4ee4\u5c06 nginx \u9ed8\u8ba4\u7684 80 \u7aef\u53e3\u6620\u5c04\u5230\u672c\u673a\u7684 4000 \u7aef\u53e3\uff0c\n\u6253\u5f00\u6d4f\u89c8\u5668\u6216\u8005 curl \u6765\u8bbf\u95ee http://127.0.0.1:4000 , \n\u67e5\u770b\u662f\u5426\u6210\u529f\u8bbf\u95ee nginx \u9ed8\u8ba4\u9875\u9762\uff01\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u540e\u53f0\u8fd0\u884c port-forward"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"nohup kubectl port-forward nginx 4000:80 > /dev/null 2>&1 &\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u5173\u95ed port-forward"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'ps aux | grep "kubectl port-forward"\n# \u627e\u5230\u5bf9\u5e94\u7684 PID\uff0c\u7136\u540e\nkill <PID>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\u8fdb\u5165-pod-\u5185shell",children:"\u8fdb\u5165 Pod \u5185shell"}),"\n",(0,o.jsx)(n.p,{children:"kubectl exec -it \u53ef\u4ee5\u7528\u6765\u8fdb\u5165 Pod \u5185\u5bb9\u5668\u7684 Shell\u3002\u901a\u8fc7\u547d\u4ee4\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u914d\u7f6e nginx \u7684\u9996\u9875\u5185\u5bb9\u3002"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'kubectl exec -it nginx -- /bin/bash\n\necho "hello kubernetes by nginx!" > /usr/share/nginx/html/index.html\n\nkubectl port-forward nginx-pod 4000:80\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\u67e5\u770bpod-\u65e5\u5fd7",children:"\u67e5\u770bpod \u65e5\u5fd7"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"kubectl logs --follow nginx\n                              \nkubectl exec nginx -- ls\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u5220\u9664pod",children:"\u5220\u9664Pod"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'kubectl delete pod nginx\n# pod "nginx" deleted\n\nkubectl delete -f nginx-pod.yml\n# pod "nginx" deleted\n'})})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}}}]);