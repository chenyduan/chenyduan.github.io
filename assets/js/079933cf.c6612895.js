"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[1043],{27155:n=>{n.exports=JSON.parse('{"permalink":"/blog/file-diff","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/\u5982\u4f55\u50cfgit\u4e00\u6837,\u53ea\u8bb0\u5f55\u6587\u4ef6\u7684\u53d8\u5316.md","source":"@site/blog/\u5982\u4f55\u50cfgit\u4e00\u6837,\u53ea\u8bb0\u5f55\u6587\u4ef6\u7684\u53d8\u5316.md","title":"\u5982\u4f55\u8bb0\u5f55\u6587\u4ef6\u53d8\u5316","description":"diff \u7b97\u6cd5\u662f\u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u6587\u672c\u6587\u4ef6\u7684\u5dee\u5f02\uff0c\u5e76\u751f\u6210\u5b83\u4eec\u4e4b\u95f4\u7684\u5dee\u5f02\u8f93\u51fa\u7684\u7b97\u6cd5\u3002\u5b83\u7684\u6838\u5fc3\u601d\u60f3\u662f\u627e\u51fa\u4e24\u4e2a\u6587\u672c\u4e4b\u95f4\u7684\u6700\u5c0f\u5dee\u5f02\uff0c\u5e76\u5c06\u8fd9\u4e9b\u5dee\u5f02\u8868\u793a\u4e3a\u4e00\u7cfb\u5217\u7684 \u589e\u91cf\u64cd\u4f5c\uff0c\u901a\u5e38\u662f \u63d2\u5165\u3001\u5220\u9664\u3001\u4fee\u6539\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u901a\u5e38\u4f1a\u7528\u5728 \u6587\u672c\u6bd4\u8f83\u3001\u7248\u672c\u63a7\u5236\uff08\u5982 Git\uff09\u3001\u6587\u4ef6\u540c\u6b65\uff08\u5982 rsync\uff09\u7b49\u573a\u666f\u4e2d\u3002","date":"2025-09-21T13:09:30.000Z","tags":[],"readingTime":7.54,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"\u5982\u4f55\u8bb0\u5f55\u6587\u4ef6\u53d8\u5316","slug":"/file-diff"},"unlisted":false,"prevItem":{"title":"\u56fe\u7247\u7d20\u6750","permalink":"/blog/\u56fe\u7247\u7d20\u6750"},"nextItem":{"title":"\u672c\u5730\u4f18\u5148","permalink":"/blog/\u672c\u5730\u4f18\u5148"}}')},28453:(n,e,d)=>{d.d(e,{R:()=>c,x:()=>r});var i=d(96540);const s={},l=i.createContext(s);function c(n){const e=i.useContext(l);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),i.createElement(l.Provider,{value:e},n.children)}},70425:(n,e,d)=>{d.r(e),d.d(e,{assets:()=>h,contentTitle:()=>r,default:()=>f,frontMatter:()=>c,metadata:()=>i,toc:()=>t});var i=d(27155),s=d(74848),l=d(28453);const c={title:"\u5982\u4f55\u8bb0\u5f55\u6587\u4ef6\u53d8\u5316",slug:"/file-diff"},r="diff",h={authorsImageUrls:[]},t=[{value:"<code>diff</code> \u7b97\u6cd5\u7684\u57fa\u672c\u601d\u8def\uff1a",id:"diff-\u7b97\u6cd5\u7684\u57fa\u672c\u601d\u8def",level:3},{value:"\u5177\u4f53\u5b9e\u73b0",id:"\u5177\u4f53\u5b9e\u73b0",level:3},{value:"1. <strong>\u5b9a\u4e49\u95ee\u9898</strong>",id:"1-\u5b9a\u4e49\u95ee\u9898",level:4},{value:"2. <strong>\u6784\u5efa DP \u8868</strong>",id:"2-\u6784\u5efa-dp-\u8868",level:4},{value:"3. <strong>\u6784\u5efa\u5dee\u5f02</strong>",id:"3-\u6784\u5efa\u5dee\u5f02",level:4},{value:"4. <strong>\u751f\u6210\u5dee\u5f02\u8f93\u51fa</strong>",id:"4-\u751f\u6210\u5dee\u5f02\u8f93\u51fa",level:4},{value:"\u52a8\u6001\u89c4\u5212\u5b9e\u73b0 <code>diff</code> \u7b97\u6cd5\u7684\u4f2a\u4ee3\u7801\uff1a",id:"\u52a8\u6001\u89c4\u5212\u5b9e\u73b0-diff-\u7b97\u6cd5\u7684\u4f2a\u4ee3\u7801",level:4},{value:"\u8f93\u51fa\uff1a",id:"\u8f93\u51fa",level:3},{value:"5. <strong>\u4f18\u5316</strong>",id:"5-\u4f18\u5316",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:3},{value:"1. <strong><code>diff</code></strong>",id:"1-diff",level:3},{value:"\u5b89\u88c5\uff1a",id:"\u5b89\u88c5",level:4},{value:"\u4f7f\u7528\u793a\u4f8b\uff1a",id:"\u4f7f\u7528\u793a\u4f8b",level:4},{value:"\u89e3\u91ca\uff1a",id:"\u89e3\u91ca",level:4},{value:"2. <strong><code>jsdiff</code></strong>",id:"2-jsdiff",level:3},{value:"\u5b89\u88c5\uff1a",id:"\u5b89\u88c5-1",level:4},{value:"\u4f7f\u7528\u793a\u4f8b\uff1a",id:"\u4f7f\u7528\u793a\u4f8b-1",level:4},{value:"3. <strong><code>deep-diff</code></strong>",id:"3-deep-diff",level:3},{value:"\u5b89\u88c5\uff1a",id:"\u5b89\u88c5-2",level:4},{value:"\u4f7f\u7528\u793a\u4f8b\uff1a",id:"\u4f7f\u7528\u793a\u4f8b-2",level:4},{value:"\u8f93\u51fa\u793a\u4f8b\uff1a",id:"\u8f93\u51fa\u793a\u4f8b",level:4},{value:"4. <strong><code>diff-match-patch</code></strong>",id:"4-diff-match-patch",level:3},{value:"\u5b89\u88c5\uff1a",id:"\u5b89\u88c5-3",level:4},{value:"\u4f7f\u7528\u793a\u4f8b\uff1a",id:"\u4f7f\u7528\u793a\u4f8b-3",level:4},{value:"\u89e3\u91ca\uff1a",id:"\u89e3\u91ca-1",level:4},{value:"5. <strong><code>diff2html</code></strong>",id:"5-diff2html",level:3},{value:"\u5b89\u88c5\uff1a",id:"\u5b89\u88c5-4",level:4},{value:"\u4f7f\u7528\u793a\u4f8b\uff1a",id:"\u4f7f\u7528\u793a\u4f8b-4",level:4},{value:"\u603b\u7ed3\uff1a",id:"\u603b\u7ed3-1",level:3}];function o(n){const e={a:"a",code:"code",h1:"h1",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"diff"})," \u7b97\u6cd5\u662f\u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u6587\u672c\u6587\u4ef6\u7684\u5dee\u5f02\uff0c\u5e76\u751f\u6210\u5b83\u4eec\u4e4b\u95f4\u7684\u5dee\u5f02\u8f93\u51fa\u7684\u7b97\u6cd5\u3002\u5b83\u7684\u6838\u5fc3\u601d\u60f3\u662f\u627e\u51fa\u4e24\u4e2a\u6587\u672c\u4e4b\u95f4\u7684\u6700\u5c0f\u5dee\u5f02\uff0c\u5e76\u5c06\u8fd9\u4e9b\u5dee\u5f02\u8868\u793a\u4e3a\u4e00\u7cfb\u5217\u7684 ",(0,s.jsx)(e.strong,{children:"\u589e\u91cf\u64cd\u4f5c"}),"\uff0c\u901a\u5e38\u662f ",(0,s.jsx)(e.strong,{children:"\u63d2\u5165\u3001\u5220\u9664\u3001\u4fee\u6539"}),"\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u901a\u5e38\u4f1a\u7528\u5728 ",(0,s.jsx)(e.strong,{children:"\u6587\u672c\u6bd4\u8f83"}),"\u3001",(0,s.jsx)(e.strong,{children:"\u7248\u672c\u63a7\u5236"}),"\uff08\u5982 Git\uff09\u3001",(0,s.jsx)(e.strong,{children:"\u6587\u4ef6\u540c\u6b65"}),"\uff08\u5982 ",(0,s.jsx)(e.code,{children:"rsync"}),"\uff09\u7b49\u573a\u666f\u4e2d\u3002"]}),"\n",(0,s.jsxs)(e.h3,{id:"diff-\u7b97\u6cd5\u7684\u57fa\u672c\u601d\u8def",children:[(0,s.jsx)(e.code,{children:"diff"})," \u7b97\u6cd5\u7684\u57fa\u672c\u601d\u8def\uff1a"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5c06\u6587\u672c\u5206\u89e3\u4e3a\u884c"}),"\uff1a\u5c06\u4e24\u4e2a\u6587\u672c\u6587\u4ef6\u6309\u884c\u5206\u5272\uff0c\u901a\u5e38\u662f\u6309\u884c\u3001\u5355\u8bcd\u6216\u5b57\u7b26\u8fdb\u884c\u6bd4\u8f83\u3002\u5728\u4f20\u7edf\u7684 ",(0,s.jsx)(e.code,{children:"diff"})," \u4e2d\uff0c\u901a\u5e38\u662f\u6309\u884c\u6bd4\u8f83\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u627e\u5230\u516c\u5171\u90e8\u5206\u548c\u4e0d\u540c\u90e8\u5206"}),"\uff1a"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\uff08LCS\uff09"}),"\uff1a\u6838\u5fc3\u601d\u60f3\u662f\u627e\u5230\u4e24\u4e2a\u6587\u672c\u4e4b\u95f4\u7684\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\uff08LCS\uff09\u3002LCS \u662f\u4e24\u4e2a\u6587\u672c\u4e2d\u6ca1\u6709\u6539\u52a8\u7684\u90e8\u5206\u3002",(0,s.jsx)(e.code,{children:"diff"})," \u7b97\u6cd5\u4f1a\u901a\u8fc7\u8ba1\u7b97 ",(0,s.jsx)(e.strong,{children:"\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217"})," \u6765\u786e\u5b9a\u54ea\u4e9b\u884c\u662f\u76f8\u540c\u7684\uff0c\u54ea\u4e9b\u884c\u53d1\u751f\u4e86\u53d8\u5316\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5dee\u5f02\u751f\u6210"}),"\uff1a\u6839\u636e LCS\uff0c\u53ef\u4ee5\u901a\u8fc7\u6bd4\u8f83\u6bcf\u4e2a\u6587\u672c\u4e2d\u7684\u4e0d\u540c\u90e8\u5206\uff0c\u627e\u51fa\u9700\u8981\u7684\u5dee\u5f02\u64cd\u4f5c\uff08\u5982\uff1a\u63d2\u5165\u3001\u5220\u9664\uff09\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u5177\u4f53\u5b9e\u73b0",children:"\u5177\u4f53\u5b9e\u73b0"}),"\n",(0,s.jsxs)(e.p,{children:["\u5b9e\u73b0 ",(0,s.jsx)(e.code,{children:"diff"})," \u7b97\u6cd5\u7684\u7ecf\u5178\u65b9\u6cd5\u662f ",(0,s.jsx)(e.strong,{children:"\u52a8\u6001\u89c4\u5212\uff08Dynamic Programming, DP\uff09"}),"\uff0c\u5b83\u7684\u57fa\u672c\u601d\u60f3\u662f\u901a\u8fc7\u9012\u5f52\u5173\u7cfb\u548c\u8bb0\u5fc6\u5316\uff08\u7f13\u5b58\uff09\u6765\u9010\u6b65\u89e3\u51b3\u95ee\u9898\u3002\u8fd9\u91cc\u662f\u4e00\u4e2a\u57fa\u4e8e ",(0,s.jsx)(e.strong,{children:"\u52a8\u6001\u89c4\u5212"})," \u7684 ",(0,s.jsx)(e.code,{children:"diff"})," \u7b97\u6cd5\u7684\u7b80\u5355\u5b9e\u73b0\u8fc7\u7a0b\u3002"]}),"\n",(0,s.jsxs)(e.h4,{id:"1-\u5b9a\u4e49\u95ee\u9898",children:["1. ",(0,s.jsx)(e.strong,{children:"\u5b9a\u4e49\u95ee\u9898"})]}),"\n",(0,s.jsx)(e.p,{children:"\u5047\u8bbe\u6709\u4e24\u4e2a\u6587\u672c\uff08\u6587\u672c A \u548c\u6587\u672c B\uff09\uff0c\u5206\u522b\u4e3a\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"\u6587\u672c A\uff1a\nA1\nA2\nA3\nA4\n\n\u6587\u672c B\uff1a\nB1\nA2\nA3\nB4\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u6211\u4eec\u8981\u6bd4\u8f83\u6587\u672c A \u548c\u6587\u672c B \u4e4b\u95f4\u7684\u5dee\u5f02\u3002"}),"\n",(0,s.jsxs)(e.h4,{id:"2-\u6784\u5efa-dp-\u8868",children:["2. ",(0,s.jsx)(e.strong,{children:"\u6784\u5efa DP \u8868"})]}),"\n",(0,s.jsxs)(e.p,{children:["\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4 ",(0,s.jsx)(e.code,{children:"dp[i][j]"})," \u6765\u8868\u793a\u6587\u672c A \u7684\u524d ",(0,s.jsx)(e.code,{children:"i"})," \u884c\u4e0e\u6587\u672c B \u7684\u524d ",(0,s.jsx)(e.code,{children:"j"})," \u884c\u4e4b\u95f4\u7684 ",(0,s.jsx)(e.strong,{children:"\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217"}),"\uff08LCS\uff09\u7684\u957f\u5ea6\u3002",(0,s.jsx)(e.code,{children:"dp[i][j]"})," \u7684\u503c\u8868\u793a\u5728\u6bd4\u8f83\u6587\u672c A \u7684\u524d ",(0,s.jsx)(e.code,{children:"i"})," \u884c\u548c\u6587\u672c B \u7684\u524d ",(0,s.jsx)(e.code,{children:"j"})," \u884c\u65f6\uff0c\u5b83\u4eec\u7684 LCS \u957f\u5ea6\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u521d\u59cb\u5316\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"dp[0][0] = 0"}),"\uff0c\u8868\u793a\u7a7a\u6587\u672c\u4e4b\u95f4\u7684 LCS \u957f\u5ea6\u4e3a 0\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:["\u5982\u679c\u6587\u672c A \u6216\u6587\u672c B \u4e2d\u67d0\u4e00\u65b9\u4e3a\u7a7a\uff0c\u5219 ",(0,s.jsx)(e.code,{children:"dp[i][0] = 0"})," \u548c ",(0,s.jsx)(e.code,{children:"dp[0][j] = 0"}),"\u3002"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u72b6\u6001\u8f6c\u79fb\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u5982\u679c ",(0,s.jsx)(e.code,{children:"A[i-1] == B[j-1]"}),"\uff0c\u5219 ",(0,s.jsx)(e.code,{children:"dp[i][j] = dp[i-1][j-1] + 1"}),"\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:["\u5426\u5219\uff0c",(0,s.jsx)(e.code,{children:"dp[i][j] = max(dp[i-1][j], dp[i][j-1])"}),"\uff0c\u5373\u9009\u62e9\u5220\u9664\u6216\u63d2\u5165\u7684\u64cd\u4f5c\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.h4,{id:"3-\u6784\u5efa\u5dee\u5f02",children:["3. ",(0,s.jsx)(e.strong,{children:"\u6784\u5efa\u5dee\u5f02"})]}),"\n",(0,s.jsxs)(e.p,{children:["\u4e00\u65e6\u6211\u4eec\u6784\u5efa\u4e86 ",(0,s.jsx)(e.code,{children:"dp"})," \u8868\uff0c\u6211\u4eec\u53ef\u4ee5\u56de\u6eaf\u6765\u786e\u5b9a\u6587\u672c A \u548c\u6587\u672c B \u4e4b\u95f4\u7684\u5dee\u5f02\uff1a"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u5982\u679c ",(0,s.jsx)(e.code,{children:"A[i-1] == B[j-1]"}),"\uff0c\u5219\u8fd9\u4e24\u884c\u662f\u76f8\u540c\u7684\uff0c\u4e0d\u9700\u8981\u64cd\u4f5c\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:["\u5982\u679c ",(0,s.jsx)(e.code,{children:"A[i-1] != B[j-1]"}),"\uff0c\u5219\u8868\u793a\u6709\u5dee\u5f02\uff0c\u6211\u4eec\u9700\u8981\u63d2\u5165\u6216\u5220\u9664\u5bf9\u5e94\u7684\u884c\u3002"]}),"\n",(0,s.jsx)(e.li,{children:"\u901a\u8fc7\u56de\u6eaf\uff0c\u6211\u4eec\u53ef\u4ee5\u751f\u6210\u5dee\u5f02\u7684\u8be6\u7ec6\u5217\u8868\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.h4,{id:"4-\u751f\u6210\u5dee\u5f02\u8f93\u51fa",children:["4. ",(0,s.jsx)(e.strong,{children:"\u751f\u6210\u5dee\u5f02\u8f93\u51fa"})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"diff"})," \u8f93\u51fa\u901a\u5e38\u5305\u62ec\u4e09\u79cd\u64cd\u4f5c\uff1a"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u5220\u9664"}),"\uff1a\u5982\u679c A \u4e2d\u6709\u4e00\u884c\uff0c\u800c B \u4e2d\u6ca1\u6709\uff0c\u8868\u793a\u8be5\u884c\u88ab\u5220\u9664\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u63d2\u5165"}),"\uff1a\u5982\u679c B \u4e2d\u6709\u4e00\u884c\uff0c\u800c A \u4e2d\u6ca1\u6709\uff0c\u8868\u793a\u8be5\u884c\u88ab\u63d2\u5165\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u4fee\u6539"}),"\uff1a\u5982\u679c A \u548c B \u4e2d\u7684\u540c\u4e00\u884c\u5185\u5bb9\u4e0d\u540c\uff0c\u8868\u793a\u8be5\u884c\u88ab\u4fee\u6539\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.h4,{id:"\u52a8\u6001\u89c4\u5212\u5b9e\u73b0-diff-\u7b97\u6cd5\u7684\u4f2a\u4ee3\u7801",children:["\u52a8\u6001\u89c4\u5212\u5b9e\u73b0 ",(0,s.jsx)(e.code,{children:"diff"})," \u7b97\u6cd5\u7684\u4f2a\u4ee3\u7801\uff1a"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'def diff(A, B):\n    m, n = len(A), len(B)\n    dp = [[0] * (n + 1) for _ in range(m + 1)]\n    \n    # \u6784\u5efa dp \u8868\n    for i in range(1, m + 1):\n        for j in range(1, n + 1):\n            if A[i - 1] == B[j - 1]:\n                dp[i][j] = dp[i - 1][j - 1] + 1\n            else:\n                dp[i][j] = max(dp[i - 1][j], dp[i][j - 1])\n\n    # \u56de\u6eaf\u751f\u6210\u5dee\u5f02\n    diff_output = []\n    i, j = m, n\n    while i > 0 and j > 0:\n        if A[i - 1] == B[j - 1]:\n            i -= 1\n            j -= 1\n        elif dp[i - 1][j] >= dp[i][j - 1]:\n            diff_output.append(f"- {A[i - 1]}")  # \u5220\u9664\u64cd\u4f5c\n            i -= 1\n        else:\n            diff_output.append(f"+ {B[j - 1]}")  # \u63d2\u5165\u64cd\u4f5c\n            j -= 1\n\n    # \u5904\u7406\u5269\u4f59\u7684\u884c\n    while i > 0:\n        diff_output.append(f"- {A[i - 1]}")  # \u5220\u9664\u5269\u4f59\u7684\u884c\n        i -= 1\n    while j > 0:\n        diff_output.append(f"+ {B[j - 1]}")  # \u63d2\u5165\u5269\u4f59\u7684\u884c\n        j -= 1\n\n    return diff_output[::-1]  # \u9006\u5e8f\u8fd4\u56de\u5dee\u5f02\n\n# \u793a\u4f8b\nA = ["A1", "A2", "A3", "A4"]\nB = ["B1", "A2", "A3", "B4"]\ndiff_output = diff(A, B)\nfor line in diff_output:\n    print(line)\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u8f93\u51fa",children:"\u8f93\u51fa\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"- A1\n+ B1\n  A2\n  A3\n- A4\n+ B4\n"})}),"\n",(0,s.jsxs)(e.h3,{id:"5-\u4f18\u5316",children:["5. ",(0,s.jsx)(e.strong,{children:"\u4f18\u5316"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u65f6\u95f4\u590d\u6742\u5ea6"}),"\uff1a\u8fd9\u4e2a\u52a8\u6001\u89c4\u5212\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f ",(0,s.jsx)(e.code,{children:"O(m * n)"}),"\uff0c\u5176\u4e2d ",(0,s.jsx)(e.code,{children:"m"})," \u548c ",(0,s.jsx)(e.code,{children:"n"})," \u5206\u522b\u662f\u4e24\u4e2a\u6587\u672c\u7684\u884c\u6570\u3002\u7531\u4e8e\u6211\u4eec\u9700\u8981\u6784\u5efa\u4e00\u4e2a ",(0,s.jsx)(e.code,{children:"m x n"})," \u7684\u4e8c\u7ef4\u8868\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u7a7a\u95f4\u590d\u6742\u5ea6"}),"\uff1a\u7a7a\u95f4\u590d\u6742\u5ea6\u4e5f\u662f ",(0,s.jsx)(e.code,{children:"O(m * n)"}),"\uff0c\u56e0\u4e3a\u6211\u4eec\u9700\u8981\u5b58\u50a8\u4e00\u4e2a ",(0,s.jsx)(e.code,{children:"m x n"})," \u7684 DP \u8868\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["\u4e3a\u4e86\u4f18\u5316\u7a7a\u95f4\uff0c\u6709\u4e9b ",(0,s.jsx)(e.code,{children:"diff"})," \u7b97\u6cd5\u4f7f\u7528 ",(0,s.jsx)(e.strong,{children:"\u7ebf\u6027\u7a7a\u95f4"})," \u4f18\u5316\u65b9\u6cd5\uff0c\u4f8b\u5982\u53ea\u4fdd\u5b58\u5f53\u524d\u884c\u548c\u4e0a\u4e00\u884c\u7684 DP \u72b6\u6001\uff0c\u4ece\u800c\u5c06\u7a7a\u95f4\u590d\u6742\u5ea6\u964d\u5230 ",(0,s.jsx)(e.code,{children:"O(min(m, n))"}),"\u3002"]}),"\n",(0,s.jsx)(e.h3,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"diff"})," \u7b97\u6cd5\u7684\u5b9e\u73b0\u5927\u4f53\u4f9d\u8d56\u4e8e ",(0,s.jsx)(e.strong,{children:"\u52a8\u6001\u89c4\u5212"}),"\uff0c\u901a\u8fc7\u8ba1\u7b97 ",(0,s.jsx)(e.strong,{children:"\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\uff08LCS\uff09"})," \u6765\u627e\u51fa\u6587\u672c\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u7136\u540e\uff0c\u901a\u8fc7\u56de\u6eaf DP \u8868\u751f\u6210\u8be6\u7ec6\u7684\u589e\u91cf\u64cd\u4f5c\uff08\u63d2\u5165\u3001\u5220\u9664\u3001\u4fee\u6539\uff09\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u5e7f\u6cdb\u5e94\u7528\u4e8e\u6587\u4ef6\u6bd4\u8f83\u3001\u7248\u672c\u63a7\u5236\u7b49\u573a\u666f\u3002"]}),"\n",(0,s.jsx)(e.h1,{id:"nodejs\u4e2d\u5e38\u7528\u7684diff\u5e93",children:"nodejs\u4e2d\u5e38\u7528\u7684diff\u5e93"}),"\n",(0,s.jsxs)(e.p,{children:["\u5728 Node.js \u4e2d\uff0c\u6709\u51e0\u4e2a\u975e\u5e38\u6d41\u884c\u7684\u5e93\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0 ",(0,s.jsx)(e.code,{children:"diff"})," \u7b97\u6cd5\uff0c\u7528\u4e8e\u6bd4\u8f83\u6587\u672c\u6216\u6587\u4ef6\u7684\u5dee\u5f02\u3002\u4ee5\u4e0b\u662f\u51e0\u4e2a\u5e38\u7528\u7684\u5e93\uff1a"]}),"\n",(0,s.jsxs)(e.h3,{id:"1-diff",children:["1. ",(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"diff"})})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.a,{href:"https://www.npmjs.com/package/diff",children:(0,s.jsx)(e.code,{children:"diff"})})," \u662f\u4e00\u4e2a\u5e38\u7528\u7684\u5e93\uff0c\u7528\u4e8e\u6bd4\u8f83\u4e24\u4e2a\u6587\u672c\uff08\u5b57\u7b26\u4e32\u6216\u6587\u4ef6\uff09\u7684\u5dee\u5f02\uff0c\u5e76\u751f\u6210\u4e00\u4e2a\u7c7b\u4f3c Git \u7684\u5dee\u5f02\u8f93\u51fa\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"\u5b89\u88c5",children:"\u5b89\u88c5\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"npm install diff\n"})}),"\n",(0,s.jsx)(e.h4,{id:"\u4f7f\u7528\u793a\u4f8b",children:"\u4f7f\u7528\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"const Diff = require('diff');\n\nconst text1 = \"A1\\nA2\\nA3\\nA4\";\nconst text2 = \"B1\\nA2\\nA3\\nB4\";\n\nconst diffResult = Diff.diffLines(text1, text2);\n\ndiffResult.forEach((part) => {\n  // Green for additions, red for deletions\n  const color = part.added ? 'green' : part.removed ? 'red' : 'grey';\n  console.log(part.value[color]);\n});\n"})}),"\n",(0,s.jsx)(e.h4,{id:"\u89e3\u91ca",children:"\u89e3\u91ca\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"diffLines"})," \u6bd4\u8f83\u4e24\u4e2a\u5b57\u7b26\u4e32\u7684\u884c\u5dee\u5f02\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"part.added"}),"\u3001",(0,s.jsx)(e.code,{children:"part.removed"})," \u548c ",(0,s.jsx)(e.code,{children:"part.value"})," \u8868\u793a\u5dee\u5f02\u7684\u7c7b\u578b\uff08\u589e\u52a0\u3001\u5220\u9664\u3001\u6ca1\u6709\u53d8\u5316\uff09\u53ca\u5176\u503c\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:["\u8be5\u5e93\u652f\u6301\u591a\u79cd\u6bd4\u8f83\u6a21\u5f0f\uff0c\u5982 ",(0,s.jsx)(e.code,{children:"diffWords"}),"\uff08\u6309\u5355\u8bcd\u6bd4\u8f83\uff09\u3001",(0,s.jsx)(e.code,{children:"diffChars"}),"\uff08\u6309\u5b57\u7b26\u6bd4\u8f83\uff09\u7b49\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"2-jsdiff",children:["2. ",(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"jsdiff"})})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.a,{href:"https://www.npmjs.com/package/jsdiff",children:(0,s.jsx)(e.code,{children:"jsdiff"})})," \u662f\u53e6\u4e00\u4e2a\u975e\u5e38\u5e38\u7528\u7684\u5e93\uff0c\u5b83\u63d0\u4f9b\u4e86\u6bd4 ",(0,s.jsx)(e.code,{children:"diff"})," \u66f4\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u8fdb\u884c\u5355\u8bcd\u3001\u5b57\u7b26\u3001\u884c\u7ea7\u522b\u7684\u5dee\u5f02\u6bd4\u8f83\u3002\u8fd9\u4e2a\u5e93\u5e7f\u6cdb\u7528\u4e8e\u5904\u7406\u6587\u672c\u5dee\u5f02\uff0c\u5e76\u751f\u6210\u5dee\u5f02\u62a5\u544a\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"\u5b89\u88c5-1",children:"\u5b89\u88c5\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"npm install diff\n"})}),"\n",(0,s.jsx)(e.h4,{id:"\u4f7f\u7528\u793a\u4f8b-1",children:"\u4f7f\u7528\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"const jsdiff = require('diff');\n\nconst text1 = \"A1\\nA2\\nA3\\nA4\";\nconst text2 = \"B1\\nA2\\nA3\\nB4\";\n\n// \u6bd4\u8f83\u884c\u7ea7\u5dee\u5f02\nconst diff = jsdiff.diffLines(text1, text2);\n\ndiff.forEach((part) => {\n  // Green for additions, red for deletions\n  const color = part.added ? 'green' : part.removed ? 'red' : 'grey';\n  console.log(part.value[color]);\n});\n"})}),"\n",(0,s.jsxs)(e.h3,{id:"3-deep-diff",children:["3. ",(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"deep-diff"})})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.a,{href:"https://www.npmjs.com/package/deep-diff",children:(0,s.jsx)(e.code,{children:"deep-diff"})})," \u4e3b\u8981\u7528\u4e8e\u6df1\u5ea6\u6bd4\u8f83\u4e24\u4e2a\u5bf9\u8c61\u7684\u5dee\u5f02\uff0c\u4f46\u5b83\u4e5f\u53ef\u4ee5\u7528\u4e8e\u6bd4\u8f83\u8f83\u590d\u6742\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5305\u62ec JSON \u5bf9\u8c61\u548c\u6570\u7ec4\u3002\u5b83\u80fd\u8fd4\u56de\u5173\u4e8e\u6dfb\u52a0\u3001\u5220\u9664\u6216\u4fee\u6539\u7684\u8be6\u7ec6\u4fe1\u606f\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"\u5b89\u88c5-2",children:"\u5b89\u88c5\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"npm install deep-diff\n"})}),"\n",(0,s.jsx)(e.h4,{id:"\u4f7f\u7528\u793a\u4f8b-2",children:"\u4f7f\u7528\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"const diff = require('deep-diff').diff;\n\nconst object1 = { a: 1, b: 2, c: 3 };\nconst object2 = { a: 1, b: 3, c: 3 };\n\nconst differences = diff(object1, object2);\n\ndifferences.forEach((difference) => {\n  console.log(difference);\n});\n"})}),"\n",(0,s.jsx)(e.h4,{id:"\u8f93\u51fa\u793a\u4f8b",children:"\u8f93\u51fa\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"{\n  kind: 'E', // E\u8868\u793a\u4fee\u6539\uff0cN\u8868\u793a\u65b0\u589e\uff0cD\u8868\u793a\u5220\u9664\n  path: ['b'], // \u4fee\u6539\u8def\u5f84\n  lhs: 2, // \u5de6\u8fb9\u7684\u503c\uff08\u65e7\u503c\uff09\n  rhs: 3  // \u53f3\u8fb9\u7684\u503c\uff08\u65b0\u503c\uff09\n}\n"})}),"\n",(0,s.jsxs)(e.h3,{id:"4-diff-match-patch",children:["4. ",(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"diff-match-patch"})})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.a,{href:"https://www.npmjs.com/package/diff-match-patch",children:(0,s.jsx)(e.code,{children:"diff-match-patch"})})," \u662f\u4e00\u4e2a Google \u63d0\u4f9b\u7684\u5e93\uff0c\u5b83\u53ef\u4ee5\u9ad8\u6548\u5730\u751f\u6210\u6587\u672c\u5dee\u5f02\u548c\u5408\u5e76\u5dee\u5f02\u3002\u5b83\u7684\u7279\u70b9\u662f\u80fd\u591f\u5904\u7406\u975e\u5e38\u5927\u7684\u6587\u672c\u6587\u4ef6\uff0c\u5e76\u4e14\u80fd\u591f\u751f\u6210\u9ad8\u6548\u7684\u5dee\u5f02\u8f93\u51fa\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"\u5b89\u88c5-3",children:"\u5b89\u88c5\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"npm install diff-match-patch\n"})}),"\n",(0,s.jsx)(e.h4,{id:"\u4f7f\u7528\u793a\u4f8b-3",children:"\u4f7f\u7528\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:'const diff_match_patch = require(\'diff-match-patch\');\nconst dmp = new diff_match_patch();\n\nconst text1 = "A1\\nA2\\nA3\\nA4";\nconst text2 = "B1\\nA2\\nA3\\nB4";\n\n// \u751f\u6210\u5dee\u5f02\nconst diff = dmp.diff_main(text1, text2);\ndmp.diff_cleanupSemantic(diff);\n\nconsole.log(diff);\n'})}),"\n",(0,s.jsx)(e.h4,{id:"\u89e3\u91ca-1",children:"\u89e3\u91ca\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"diff_main"})," \u7528\u4e8e\u8ba1\u7b97\u4e24\u4e2a\u6587\u672c\u4e4b\u95f4\u7684\u5dee\u5f02\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"diff_cleanupSemantic"})," \u4f1a\u5bf9\u751f\u6210\u7684\u5dee\u5f02\u8fdb\u884c\u4f18\u5316\uff0c\u4ee5\u4fbf\u5ffd\u7565\u67d0\u4e9b\u65e0\u5173\u7684\u53d8\u5316\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"5-diff2html",children:["5. ",(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"diff2html"})})]}),"\n",(0,s.jsxs)(e.p,{children:["\u5982\u679c\u4f60\u60f3\u628a ",(0,s.jsx)(e.code,{children:"diff"})," \u8f93\u51fa\u6e32\u67d3\u4e3a HTML \u683c\u5f0f\uff0c",(0,s.jsx)(e.code,{children:"diff2html"})," \u662f\u4e00\u4e2a\u5f88\u597d\u7684\u9009\u62e9\uff0c\u5b83\u5c06 ",(0,s.jsx)(e.code,{children:"diff"})," \u7ed3\u679c\u8f6c\u6362\u4e3a\u6613\u4e8e\u5c55\u793a\u7684 HTML \u683c\u5f0f\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"\u5b89\u88c5-4",children:"\u5b89\u88c5\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"npm install diff2html\n"})}),"\n",(0,s.jsx)(e.h4,{id:"\u4f7f\u7528\u793a\u4f8b-4",children:"\u4f7f\u7528\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-javascript",children:"const Diff = require('diff');\nconst Diff2Html = require('diff2html').Diff2Html;\n\nconst text1 = \"A1\\nA2\\nA3\\nA4\";\nconst text2 = \"B1\\nA2\\nA3\\nB4\";\n\nconst diff = Diff.diffLines(text1, text2);\nconst html = Diff2Html.getPrettyHtml(diff, { inputFormat: 'json', showFiles: false });\n\nconsole.log(html);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u603b\u7ed3-1",children:"\u603b\u7ed3\uff1a"}),"\n",(0,s.jsx)(e.p,{children:"\u8fd9\u4e9b\u5e93\u63d0\u4f9b\u4e86\u4e0d\u540c\u7684\u529f\u80fd\u548c\u7075\u6d3b\u6027\uff0c\u9002\u7528\u4e8e\u5404\u79cd\u573a\u666f\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"diff"})," \u548c ",(0,s.jsx)(e.code,{children:"jsdiff"})]}),"\uff1a\u7528\u4e8e\u7b80\u5355\u7684\u6587\u672c\u5dee\u5f02\u6bd4\u8f83\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"deep-diff"})}),"\uff1a\u9002\u5408\u590d\u6742\u7684\u5bf9\u8c61\u6216\u6570\u7ec4\u7ed3\u6784\u7684\u6bd4\u8f83\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"diff-match-patch"})}),"\uff1a\u9002\u5408\u5904\u7406\u5927\u6587\u4ef6\u6216\u9ad8\u6548\u7684\u6587\u672c\u5dee\u5f02\u5904\u7406\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.code,{children:"diff2html"})}),"\uff1a\u9002\u5408\u5c06 ",(0,s.jsx)(e.code,{children:"diff"})," \u7ed3\u679c\u8f6c\u6362\u4e3a HTML \u5c55\u793a\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["\u4f60\u53ef\u4ee5\u6839\u636e\u4f60\u7684\u9700\u6c42\u9009\u62e9\u6700\u5408\u9002\u7684\u5e93\u3002\u5982\u679c\u4f60\u7684\u76ee\u6807\u662f\u5b9e\u73b0\u6587\u672c\u6216\u6587\u4ef6\u7ea7\u522b\u7684\u5dee\u5f02\u6bd4\u8f83\uff0c",(0,s.jsx)(e.code,{children:"diff"})," \u548c ",(0,s.jsx)(e.code,{children:"jsdiff"})," \u662f\u6700\u5e38\u7528\u548c\u9ad8\u6548\u7684\u9009\u62e9\u3002"]})]})}function f(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}}}]);